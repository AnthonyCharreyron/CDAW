<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image cliquable avec des zones</title>
    <style>
        #imageContainer {
            position: relative;
            width: 500px; /* Ajuster la largeur de l'image selon vos besoins */
            height: auto; /* Garder l'aspect ratio */
            cursor: crosshair;
        }

        #imageContainer image {
            width: 100%;
            height: auto;
            display: block;
        }
        #imageContainer img {
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>
<body>

<!-- Image de base -->
<div id="imageContainer">
    <img src="ChevaucheursDeVers-plateau.png" usemap="#zonesCliquables" alt="Image cliquable">
</div>
<map name="zonesCliquables" id="zonesCliquables">
    <?php
    $coordinates = explode(" ", "(56,61) (93,69) (87,79) (57,72) (103,67) (167,27) (178,40) (114,81) (181,44) (195,43) (198,101) (181,102) (198,26) (319,54) (313,65) (198,44) (326,49) (339,58) (363,39) (351,28) (371,38) (380,27) (426,75) (414,81) (342,64) (334,78) (412,100) (411,84) (420,99) (435,99) (448,153) (433,148) (431,172) (445,171) (449,266) (431,262) (423,168) (431,177) (389,218) (372,208) (316,171) (316,182) (417,170) (422,155) (377,233) (386,222) (428,262) (425,276) (378,301) (422,277) (435,284) (386,316) (320,246) (333,240) (369,297) (361,304) (327,226) (332,239) (366,227) (359,218) (281,221) (284,209) (320,220) (310,229) (246,309) (246,322) (364,325) (358,310) (229,302) (242,303) (254,271) (240,269) (254,244) (257,257) (309,244) (302,228) (230,199) (236,188) (263,207) (260,217) (268,199) (280,203) (300,186) (293,174) (291,139) (300,133) (306,166) (292,168) (259,91) (278,86) (293,117) (275,122) (282,73) (286,84) (320,73) (309,66) (203,120) (203,108) (270,118) (280,131) (185,127) (205,123) (231,174) (212,186) (156,219) (167,228) (225,204) (209,190) (173,228) (161,247) (236,264) (235,239) (142,242) (158,249) (145,302) (129,296) (151,304) (150,317) (228,319) (225,307) (33,254) (45,244) (124,295) (121,311) (115,221) (117,208) (145,223) (142,241) (40,223) (91,204) (98,227) (49,244) (100,201) (113,202) (147,148) (135,144) (148,128) (154,139) (181,127) (174,111) (35,229) (17,229) (49,153) (66,157) (66,137) (66,151) (130,150) (129,131) (43,134) (60,135) (50,82) (36,80) (100,93) (112,85) (145,120) (129,126)");

    $chunks = array_chunk($coordinates, 4);
    foreach ($chunks as $index => $coords) {
        $tab = [];
        foreach ($coords as $point) {
            preg_match('/\((\d+),(\d+)\)/', $point, $matches);
            $x = $matches[1]; 
            $y = $matches[2];
            $tab[] = $x;
            $tab[] = $y;
        }
        // Utiliser implode pour générer une chaîne de coordonnées séparées par des virgules
        $coordsString = implode(',', $tab);
        echo "<area class='rectangle' shape='poly' coords='$coordsString' href='#' alt='Zone " . ($index + 1) . "' onclick='afficherImage(\"image" . ($index + 1) . ".jpg\")'>";
    }
    
    ?>
</map>

<div id="imageContainer">
    <svg viewBox="0 0 500 500">
        <image href="ChevaucheursDeVers-plateau.png"/>

        <?php
        $coordinates = explode(" ", "(56,61) (93,69) (87,79) (57,72) (103,67) (167,27) (178,40) (114,81) (181,44) (195,43) (198,101) (181,102) (198,26) (319,54) (313,65) (198,44) (326,49) (339,58) (363,39) (351,28) (371,38) (380,27) (426,75) (414,81) (342,64) (334,78) (412,100) (411,84) (420,99) (435,99) (448,153) (433,148) (431,172) (445,171) (449,266) (431,262) (423,168) (431,177) (389,218) (372,208) (316,171) (316,182) (417,170) (422,155) (377,233) (386,222) (428,262) (425,276) (378,301) (422,277) (435,284) (386,316) (320,246) (333,240) (369,297) (361,304) (327,226) (332,239) (366,227) (359,218) (281,221) (284,209) (320,220) (310,229) (246,309) (246,322) (364,325) (358,310) (229,302) (242,303) (254,271) (240,269) (254,244) (257,257) (309,244) (302,228) (230,199) (236,188) (263,207) (260,217) (268,199) (280,203) (300,186) (293,174) (291,139) (300,133) (306,166) (292,168) (259,91) (278,86) (293,117) (275,122) (282,73) (286,84) (320,73) (309,66) (203,120) (203,108) (270,118) (280,131) (185,127) (205,123) (231,174) (212,186) (156,219) (167,228) (225,204) (209,190) (173,228) (161,247) (236,264) (235,239) (142,242) (158,249) (145,302) (129,296) (151,304) (150,317) (228,319) (225,307) (33,254) (45,244) (124,295) (121,311) (115,221) (117,208) (145,223) (142,241) (40,223) (91,204) (98,227) (49,244) (100,201) (113,202) (147,148) (135,144) (148,128) (154,139) (181,127) (174,111) (35,229) (17,229) (49,153) (66,157) (66,137) (66,151) (130,150) (129,131) (43,134) (60,135) (50,82) (36,80) (100,93) (112,85) (145,120) (129,126)");

        $chunks = array_chunk($coordinates, 4);
        foreach ($chunks as $index => $coords) {
            $tab = [];
            foreach ($coords as $point) {
                preg_match('/\((\d+),(\d+)\)/', $point, $matches);
                $x = $matches[1]; 
                $y = $matches[2];
                $tab[] = $x;
                $tab[] = $y;
            }
            // Utiliser implode pour générer une chaîne de coordonnées séparées par des virgules
            $coordsString = implode(',', $tab);
            echo "<polygon points='$coordsString' alt='Zone " . ($index + 1) . "' onclick='afficherImage(\"image" . ($index + 1) . ".jpg\")'></polygon>";
        }
        
        ?>
    </svg>
</div>

</body>
</html>
